{"ast":null,"code":"import React from\"react\";import\"./css/Login.css\";import logoImg from\"../img/logo.jpg\";import axios from\"axios\";import url from\"../host\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Login(){function handlePress(){var email=document.querySelector(\".email\");var password=document.querySelector(\".password\");var data=new FormData();data.append(\"email\",email.value);data.append(\"password\",password.value);axios.post(\"\".concat(url,\"/auth/login\"),data).then(function(res){alert(\"succes\");window.location=\"/\";if(res.data.admin===true){localStorage.setItem(\"key\",1);}else if(res.data.manager===true){localStorage.setItem(\"key\",3);}else{localStorage.setItem(\"key\",2);}localStorage.setItem(\"email\",res.data.email);localStorage.setItem(\"password\",res.data.password);localStorage.setItem(\"admin\",res.data.admin);localStorage.setItem(\"id\",res.data.id);localStorage.setItem(\"address\",res.data.address);localStorage.setItem(\"token\",res.data.token);}).catch(function(err){// console.log(err);\nalert(\"No user!\");});// if (value[0].value === 'admin@mail.com' && value[1].value === '123321') {\n//     window.location = '/'\n//     localStorage.setItem('key', 1)\n//     localStorage.setItem('email', value[0].value)\n//     localStorage.setItem('password', value[1].value)\n//     localStorage.setItem('admin', true)\n// } else {\n//     alert('No User!')\n// }\n}return/*#__PURE__*/_jsx(\"div\",{className:\"bigDiv\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bigCard\",children:[/*#__PURE__*/_jsx(\"img\",{src:logoImg,alt:\"\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"\\u0412\\u043E\\u0439\\u0434\\u0438\\u0442\\u0435 \\u0443\\u0447\\u0435\\u0442\\u043D\\u0443\\u044E \\u0437\\u0430\\u043F\\u0438\\u0441\\u044C\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"email\",placeholder:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"password\",placeholder:\"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return handlePress();},children:\"\\u0412\\u043E\\u0439\\u0442\\u0438 \\u0432 \\u0443\\u0447\\u0435\\u0442\\u043D\\u0443\\u044E \\u0437\\u0430\\u043F\\u0438\\u0441\\u044C\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"aForm\",children:[/*#__PURE__*/_jsx(\"a\",{href:\"/\",children:\"\\u041D\\u0430 \\u0433\\u043B\\u0430\\u0432\\u043D\\u0443\\u044E\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"a\",{href:\"/register\",children:\"\\u0420\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0430\\u0446\\u0438\\u044F\"})]})]})});}","map":{"version":3,"names":["React","logoImg","axios","url","jsx","_jsx","jsxs","_jsxs","Login","handlePress","email","document","querySelector","password","data","FormData","append","value","post","concat","then","res","alert","window","location","admin","localStorage","setItem","manager","id","address","token","catch","err","className","children","src","alt","type","placeholder","onClick","href"],"sources":["C:/Users/User/Documents/GitHub/cargo/src/Pages/Login.js"],"sourcesContent":["import React from \"react\";\r\nimport \"./css/Login.css\";\r\nimport logoImg from \"../img/logo.jpg\";\r\nimport axios from \"axios\";\r\nimport url from \"../host\";\r\nexport default function Login() {\r\n  function handlePress() {\r\n    const email = document.querySelector(\".email\");\r\n    const password = document.querySelector(\".password\");\r\n    const data = new FormData();\r\n    data.append(\"email\", email.value);\r\n    data.append(\"password\", password.value);\r\n    axios\r\n      .post(`${url}/auth/login`, data)\r\n      .then((res) => {\r\n        alert(\"succes\");\r\n        window.location = \"/\";\r\n        if (res.data.admin === true) {\r\n          localStorage.setItem(\"key\", 1);\r\n        } else if(res.data.manager === true) {\r\n          localStorage.setItem(\"key\", 3);\r\n        } else {\r\n          localStorage.setItem(\"key\", 2);\r\n        }\r\n        localStorage.setItem(\"email\", res.data.email);\r\n        localStorage.setItem(\"password\", res.data.password);\r\n        localStorage.setItem(\"admin\", res.data.admin);\r\n        localStorage.setItem(\"id\", res.data.id);\r\n        localStorage.setItem(\"address\", res.data.address);\r\n        localStorage.setItem(\"token\", res.data.token);\r\n      })\r\n      .catch((err) => {\r\n        // console.log(err);\r\n        alert(\"No user!\");\r\n      });\r\n    // if (value[0].value === 'admin@mail.com' && value[1].value === '123321') {\r\n    //     window.location = '/'\r\n    //     localStorage.setItem('key', 1)\r\n    //     localStorage.setItem('email', value[0].value)\r\n    //     localStorage.setItem('password', value[1].value)\r\n    //     localStorage.setItem('admin', true)\r\n    // } else {\r\n    //     alert('No User!')\r\n    // }\r\n  }\r\n  return (\r\n    <div className=\"bigDiv\">\r\n      <div className=\"bigCard\">\r\n        <img src={logoImg} alt=\"\" />\r\n        <h2>Войдите учетную запись</h2>\r\n        <div>\r\n          <input type=\"text\" className=\"email\" placeholder=\"Email\" />\r\n          <input type=\"text\" className=\"password\" placeholder=\"Пароль\" />\r\n          <button onClick={() => handlePress()}>Войти в учетную запись</button>\r\n        </div>\r\n        <div className=\"aForm\">\r\n          <a href=\"/\">На главную</a>\r\n          <br />\r\n          <br />\r\n          <a href=\"/register\">Регистрация</a>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}