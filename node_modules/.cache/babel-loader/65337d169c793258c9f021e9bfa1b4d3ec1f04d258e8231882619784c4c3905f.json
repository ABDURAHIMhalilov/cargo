{"ast":null,"code":"import _slicedToArray from\"C:/Users/User/Documents/GitHub/cargo/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import\"./css/Register.css\";import logoImg from\"../img/logo.jpg\";import axios from\"axios\";import url from\"../host\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Register(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),chkbox=_useState6[0],setChkbox=_useState6[1];function handlePress(){var Values=document.querySelectorAll(\".Salom\");console.log(chkbox);var emailNum=false;var Passwo=false;if(!Values[0].value.includes(\"@\")){// alert(\"password warn\");\nsetEmail(true);}else{console.log(\"suc1\");setEmail(false);emailNum=true;}if(Values[1].value!==Values[2].value){// alert(\"password warn\");\nsetPassword(true);}else{setPassword(false);console.log(\"suc3\");Passwo=true;}if(emailNum===true&&Passwo===true&&chkbox===true){var data=new FormData();data.append('email',Values[0].value);data.append('password',Values[1].value);axios.post(\"\".concat(url,\"/auth/register\"),data).then(function(res){alert('succes');localStorage.setItem('key',2);localStorage.setItem('email',res.data.email);localStorage.setItem('password',res.data.password);localStorage.setItem('token',res.data.token);localStorage.setItem('id',res.data.id);window.location='/';}).catch(function(err){alert(\"This user is registered!\");});}else{alert('error');}// if (Values[1].value !== Values[2].value || !Values[0].value.includes(\"@\")) {\n//   // alert(\"password warn\");\n//   setPassword(true);\n//   setEmail(true);\n// } else if (!Values[0].value.includes(\"@\")) {\n//   setEmail(true);\n// } else if (Values[1].value !== Values[2].value) {\n//   // alert(\"password warn\");\n//   setPassword(true);\n// } else {\n//   console.log(\"success\");\n// }\n// localStorage.setItem('key')\n// window.location = '/'\n}return/*#__PURE__*/_jsx(\"div\",{className:\"bigDiv\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bigCard\",children:[/*#__PURE__*/_jsx(\"img\",{src:logoImg,alt:\"\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"\\u0412\\u043E\\u0439\\u0434\\u0438\\u0442\\u0435 \\u0443\\u0447\\u0435\\u0442\\u043D\\u0443\\u044E \\u0437\\u0430\\u043F\\u0438\\u0441\\u044C\"}),password==true?/*#__PURE__*/_jsx(\"p\",{style:{fontSize:\"12px\",color:\"red\"},children:\"password\"}):\"\",email==true?/*#__PURE__*/_jsx(\"p\",{style:{fontSize:\"12px\",color:\"red\"},children:\"email\"}):\"\",/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{className:\"Salom\",type:\"email\",placeholder:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{className:\"Salom\",type:\"password\",placeholder:\"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C\"}),/*#__PURE__*/_jsx(\"input\",{className:\"Salom\",type:\"password\",placeholder:\"\\u041F\\u043E\\u0432\\u0442\\u043E\\u0440\\u0438\\u0442\\u0435 \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"checBox\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",defaultChecked:chkbox,onChange:function onChange(){return setChkbox(true);}}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u042F \\u043E\\u0437\\u043D\\u0430\\u043A\\u043E\\u043C\\u0438\\u043B\\u0441\\u044F \\u0441\",/*#__PURE__*/_jsx(\"a\",{href:\"/register\",children:\"\\u041F\\u043E\\u043B\\u0438\\u0442\\u0438\\u043A\\u043E\\u0439 \\u043A\\u043E\\u043D\\u0444\\u0438\\u0434\\u0435\\u043D\\u0446\\u0438\\u0430\\u043B\\u044C\\u043D\\u043E\\u0441\\u0442\\u0438\"})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return handlePress();},children:\"\\u0421\\u043E\\u0437\\u0434\\u0430\\u0442\\u044C \\u0443\\u0447\\u0435\\u0442\\u043D\\u0443\\u044E \\u0437\\u0430\\u043F\\u0438\\u0441\\u044C\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"aForm\",children:[/*#__PURE__*/_jsx(\"a\",{href:\"/\",children:\"\\u041D\\u0430 \\u0433\\u043B\\u0430\\u0432\\u043D\\u0443\\u044E\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"a\",{href:\"/login\",children:\"\\u0410\\u0432\\u0442\\u043E\\u0440\\u0438\\u0437\\u0430\\u0446\\u0438\\u044F\"})]})]})});}","map":{"version":3,"names":["React","useState","logoImg","axios","url","jsx","_jsx","jsxs","_jsxs","Register","_useState","_useState2","_slicedToArray","email","setEmail","_useState3","_useState4","password","setPassword","_useState5","_useState6","chkbox","setChkbox","handlePress","Values","document","querySelectorAll","console","log","emailNum","Passwo","value","includes","data","FormData","append","post","concat","then","res","alert","localStorage","setItem","token","id","window","location","catch","err","className","children","src","alt","style","fontSize","color","type","placeholder","defaultChecked","onChange","href","onClick"],"sources":["C:/Users/User/Documents/GitHub/cargo/src/Pages/Register.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport \"./css/Register.css\";\r\nimport logoImg from \"../img/logo.jpg\";\r\nimport axios from \"axios\";\r\nimport url from \"../host\";\r\nexport default function Register() {\r\n  const [email, setEmail] = useState(false);\r\n  const [password, setPassword] = useState(false);\r\n  const [chkbox, setChkbox] = useState(false);\r\n  function handlePress() {\r\n    var Values = document.querySelectorAll(\".Salom\");\r\n    console.log(chkbox);\r\n    var emailNum = false\r\n    var Passwo = false\r\n    if (!Values[0].value.includes(\"@\")) {\r\n      // alert(\"password warn\");\r\n      setEmail(true);\r\n    } else {\r\n      console.log(\"suc1\");\r\n      setEmail(false);\r\n      emailNum=true\r\n    }\r\n    if (Values[1].value !== Values[2].value) {\r\n      // alert(\"password warn\");\r\n      setPassword(true);\r\n    } else {\r\n      setPassword(false);\r\n      console.log(\"suc3\");\r\n      Passwo = true\r\n    }\r\n    if (emailNum === true && Passwo === true && chkbox === true) {\r\n      const data = new FormData()\r\n      data.append('email', Values[0].value)\r\n      data.append('password', Values[1].value)\r\n        axios.post(`${url}/auth/register`, data).then(res => {\r\n        alert('succes')\r\n        localStorage.setItem('key', 2)\r\n        localStorage.setItem('email', res.data.email)\r\n        localStorage.setItem('password', res.data.password)\r\n        localStorage.setItem('token', res.data.token)\r\n        localStorage.setItem('id', res.data.id)\r\n        window.location = '/'\r\n        }).catch(err => {\r\n          alert(\"This user is registered!\")\r\n        })\r\n    } else {\r\n        alert('error');\r\n    }\r\n    // if (Values[1].value !== Values[2].value || !Values[0].value.includes(\"@\")) {\r\n    //   // alert(\"password warn\");\r\n    //   setPassword(true);\r\n    //   setEmail(true);\r\n    // } else if (!Values[0].value.includes(\"@\")) {\r\n    //   setEmail(true);\r\n    // } else if (Values[1].value !== Values[2].value) {\r\n    //   // alert(\"password warn\");\r\n    //   setPassword(true);\r\n    // } else {\r\n    //   console.log(\"success\");\r\n    // }\r\n    // localStorage.setItem('key')\r\n    // window.location = '/'\r\n  }\r\n  return (\r\n    <div className=\"bigDiv\">\r\n      <div className=\"bigCard\">\r\n        <img src={logoImg} alt=\"\" />\r\n        <h2>Войдите учетную запись</h2>\r\n        {/* {email == true ? (\r\n          <p style={{ fontSize: \"12px\", color: \"red\" }}>\r\n            error email type\r\n            {password == true ? (\r\n              <p style={{ fontSize: \"12px\", color: \"red\" }}>& password type</p>\r\n            ) : (\r\n              \"\"\r\n            )}\r\n          </p>\r\n        ) : (\r\n          \"\"\r\n        )} */}\r\n\r\n        {password == true ? (\r\n          <p style={{ fontSize: \"12px\", color: \"red\" }}>password</p>\r\n        ) : (\r\n          \"\"\r\n        )}\r\n        {email == true ? (\r\n          <p style={{ fontSize: \"12px\", color: \"red\" }}>email</p>\r\n        ) : (\r\n          \"\"\r\n        )}\r\n        <div>\r\n          <input className=\"Salom\" type=\"email\" placeholder=\"Email\" />\r\n          <input className=\"Salom\" type=\"password\" placeholder=\"Пароль\" />\r\n          <input\r\n            className=\"Salom\"\r\n            type=\"password\"\r\n            placeholder=\"Повторите пароль\"\r\n          />\r\n          <div className=\"checBox\">\r\n            {/* <input className=\"cheacks\" type=\"checkbox\" /> */}\r\n            <input type=\"checkbox\" defaultChecked={chkbox} onChange={() => setChkbox(true)} />\r\n            <p>\r\n              Я ознакомился с\r\n              <a href=\"/register\">Политикой конфиденциальности</a>\r\n            </p>\r\n          </div>\r\n          <button onClick={() => handlePress()}>Создать учетную запись</button>\r\n        </div>\r\n        <div className=\"aForm\">\r\n          <a href=\"/\">На главную</a>\r\n          <br />\r\n          <br />\r\n          <a href=\"/login\">Авторизация</a>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}